import style from "./Switch.module.scss";

interface ISwitchProps {
    currentMode: "day" | "night";
    setCurrentMode: React.Dispatch<React.SetStateAction<"day" | "night">>;
}

const Switch: React.FC<ISwitchProps> = ({ currentMode, setCurrentMode }) => {
    const changeCurrentMode = (): void => {
        if (currentMode === "day") {
            setCurrentMode("night");
            sessionStorage.setItem("theme", "night");
            return;
        }
        sessionStorage.setItem("theme", "day");
        setCurrentMode("day");
    };

    const getIcon = (iconType: "day" | "night") => {
        if (iconType === "day") {
            return (
                <svg
                    style={{ position: "relative", top: "7px", left: "37px" }}
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="black"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <g clip-path="url(#clip0_403_3337)">
                        <path
                            d="M24 13V11H18.928C18.8483 10.4439 18.7012 9.89957 18.49 9.379L22.882 6.822L21.876 5.094L17.482 7.652C17.146 7.2297 16.7629 6.84722 16.34 6.512L18.89 2.127L17.162 1.121L14.612 5.506C14.0942 5.29672 13.5529 5.15099 13 5.072V0H11V5.072C10.4514 5.14998 9.91424 5.29368 9.4 5.5L6.854 1.121L5.126 2.127L7.671 6.5C7.24584 6.83659 6.86096 7.22114 6.524 7.646L2.14 5.094L1.134 6.822L5.513 9.371C5.2999 9.89391 5.15179 10.441 5.072 11H0V13H5.072C5.15185 13.5564 5.29893 14.101 5.51 14.622L1.141 17.165L2.147 18.894L6.519 16.348C6.85142 16.7668 7.23054 17.1462 7.649 17.479L5.1 21.865L6.829 22.871L9.377 18.489C9.89812 18.7008 10.4432 18.8483 11 18.928V24H13V18.928C13.5622 18.8475 14.1123 18.698 14.638 18.483L17.19 22.871L18.918 21.865L16.362 17.47C16.7784 17.1376 17.1558 16.7592 17.487 16.342L21.87 18.894L22.87 17.165L18.488 14.614C18.6993 14.0957 18.8471 13.5538 18.928 13H24ZM17 12C16.79 18.608 7.209 18.606 7 12C7.21 5.392 16.791 5.394 17 12Z"
                            fill="#374957"
                        />
                    </g>
                    <defs>
                        <clipPath id="clip0_403_3337">
                            <rect width="24" height="24" fill="white" />
                        </clipPath>
                    </defs>
                </svg>
            );
        }
        return (
            <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="white"
                xmlns="http://www.w3.org/2000/svg"
                style={{ position: "relative", top: "7px", left: "4px" }}
            >
                <g clip-path="url(#clip0_403_2921)">
                    <path
                        d="M14.9999 23.9998C13.3194 23.9985 11.6579 23.6449 10.1225 22.9618C8.58707 22.2787 7.21197 21.2812 6.08591 20.0338C4.95134 18.7849 4.09532 17.309 3.57465 15.7041C3.05399 14.0992 2.88057 12.4019 3.06591 10.7248C3.36471 8.1148 4.50331 5.67251 6.31027 3.76563C8.11724 1.85875 10.4948 0.590487 13.0849 0.151782C14.7593 -0.106843 16.4681 -0.0372166 18.1159 0.356782C18.5474 0.467641 18.9414 0.691786 19.2572 1.00602C19.573 1.32026 19.7991 1.71317 19.9121 2.14411C20.0251 2.57504 20.0208 3.02833 19.8998 3.45709C19.7789 3.88584 19.5455 4.27448 19.2239 4.58278C14.6639 8.74878 15.0599 15.2268 20.0309 18.9928C20.3824 19.2686 20.6535 19.6337 20.8161 20.0499C20.9786 20.4661 21.0267 20.9182 20.9552 21.3593C20.8837 21.8003 20.6954 22.2142 20.4097 22.5577C20.124 22.9013 19.7515 23.162 19.3309 23.3128C17.9327 23.7696 16.4708 24.0015 14.9999 23.9998ZM15.0759 1.99978C14.5145 1.99843 13.9538 2.04089 13.3989 2.12678C11.2424 2.4915 9.26277 3.54683 7.75792 5.13391C6.25307 6.721 5.30447 8.75396 5.05491 10.9268C4.89891 12.3268 5.04268 13.744 5.47665 15.0842C5.91062 16.4244 6.62487 17.6569 7.57191 18.6998C8.95824 20.1795 10.7442 21.225 12.7131 21.7096C14.682 22.1942 16.7492 22.097 18.6639 21.4298C18.7464 21.3989 18.8193 21.3467 18.8752 21.2785C18.9311 21.2103 18.9679 21.1286 18.9821 21.0416C18.9962 20.9546 18.987 20.8654 18.9556 20.7831C18.9241 20.7008 18.8714 20.6282 18.8029 20.5728C12.8739 16.0948 12.4029 8.08678 17.8549 3.12378C17.9175 3.06569 17.9626 2.99131 17.9852 2.90899C18.0078 2.82667 18.007 2.73968 17.9829 2.65778C17.9621 2.57087 17.918 2.49129 17.8552 2.42766C17.7925 2.36403 17.7135 2.31877 17.6269 2.29678C16.7917 2.09531 15.9351 1.99558 15.0759 1.99978Z"
                        fill="white"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_403_2921">
                        <rect width="24" height="24" fill="white" />
                    </clipPath>
                </defs>
            </svg>
        );
    };

    return (
        <label className={style.switch}>
            <input type="checkbox" checked={currentMode === "night"} onChange={changeCurrentMode} />
            <span className={style.slider}>{getIcon(currentMode)}</span>
        </label>
    );
};

export default Switch;
